<!doctype html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>Hello, Canvas!</title>
    <script type="text/javascript">
        function ready(){
            var canvas=document.querySelector('canvas');
            canvas.width=400;
            canvas.height=300;
            canvas.style.border="1px solid black";

            var context=canvas.getContext('2d');

            var img=new Image();
            img.src="imgs/girl.jpg";
            img.onload=function(){
                context.globalCompositeOperation="source-out";
                canvas.width=img.width;
                canvas.height=img.height;
                var step=Math.PI*2/360;
                context.translate(img.width/2,img.height/2);
                context.font="20px Arial Black";
                function d(){
                    context.globalAlpha=1;
                    context.globalCompositeOperation="copy";
                    context.rotate(step);
                    context.drawImage(img,-img.width/2,-img.height/2);
                }
                setInterval(d,33)
            }
        }
        window.onload=ready;
    </script>
    <style type="text/css">
        canvas{border:1px solid black}
    </style>
</head>
<body>
<canvas></canvas>
</body>
</html>